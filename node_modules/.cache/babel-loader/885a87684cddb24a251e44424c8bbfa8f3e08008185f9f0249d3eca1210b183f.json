{"ast":null,"code":"var _jsxFileName = \"/Users/shichao/Documents/Learn-React/weather/src/components/WeatherDetails.js\",\n  _s = $RefreshSig$();\n/** @format */\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { format, differenceInSeconds } from \"date-fns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WeatherDetails = ({\n  selectedCity,\n  getDayOfWeek,\n  trips\n}) => {\n  _s();\n  const [weatherDetails, setWeatherDetails] = useState(null);\n  const [countdown, setCountdown] = useState({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0\n  });\n  useEffect(() => {\n    if (trips.length > 0) {\n      const selectedTrip = trips.find(trip => trip.city === selectedCity);\n      if (selectedTrip) {\n        const startDate = new Date(selectedTrip.date.split(\" - \")[0]);\n        const currentTime = new Date();\n        const timeDifferenceInSeconds = differenceInSeconds(startDate, currentTime);\n        const days = Math.floor(timeDifferenceInSeconds / (60 * 60 * 24));\n        const remainingSeconds = timeDifferenceInSeconds % (60 * 60 * 24);\n        const hours = Math.floor(remainingSeconds / (60 * 60));\n        const remainingMinutes = remainingSeconds % (60 * 60);\n        const minutes = Math.floor(remainingMinutes / 60);\n        const seconds = remainingMinutes % 60;\n        setCountdown({\n          days,\n          hours,\n          minutes,\n          seconds\n        });\n      }\n    }\n  }, [selectedCity, trips]);\n  useEffect(() => {\n    const apiKey = \"45XHHL2JKQC3XPVRRYAVH2AGS\";\n    const apiUrl = \"https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/\";\n    const fullUrl = `${apiUrl}${selectedCity}/today?unitGroup=metric&include=days&key=${apiKey}&contentType=json`;\n    const fetchWeatherDetails = async () => {\n      try {\n        var _response$data;\n        const response = await axios.get(fullUrl);\n        setWeatherDetails(((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.days[0]) || null);\n      } catch (error) {\n        console.error(\"Error fetching weather details:\", error);\n      }\n    };\n    fetchWeatherDetails();\n  }, [selectedCity, trips]);\n  if (!weatherDetails) {\n    return null;\n  }\n\n  // Render weather details here\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"weather-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: getDayOfWeek(weatherDetails.datetime)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [weatherDetails.temp, \"\\u02DA\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: selectedCity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"countdown\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [countdown.days, \" days, \", countdown.hours, \" hours, \", countdown.minutes, \" \", \"minutes, \", countdown.seconds, \" seconds\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(WeatherDetails, \"v0GYP/spqd+FmPPE3u7MQcKho8w=\");\n_c = WeatherDetails;\nexport default WeatherDetails;\nvar _c;\n$RefreshReg$(_c, \"WeatherDetails\");","map":{"version":3,"names":["React","useEffect","useState","axios","format","differenceInSeconds","jsxDEV","_jsxDEV","WeatherDetails","selectedCity","getDayOfWeek","trips","_s","weatherDetails","setWeatherDetails","countdown","setCountdown","days","hours","minutes","seconds","length","selectedTrip","find","trip","city","startDate","Date","date","split","currentTime","timeDifferenceInSeconds","Math","floor","remainingSeconds","remainingMinutes","apiKey","apiUrl","fullUrl","fetchWeatherDetails","_response$data","response","get","data","error","console","className","children","datetime","fileName","_jsxFileName","lineNumber","columnNumber","temp","_c","$RefreshReg$"],"sources":["/Users/shichao/Documents/Learn-React/weather/src/components/WeatherDetails.js"],"sourcesContent":["/** @format */\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { format, differenceInSeconds } from \"date-fns\";\n\nconst WeatherDetails = ({ selectedCity, getDayOfWeek, trips }) => {\n  const [weatherDetails, setWeatherDetails] = useState(null);\n\n  const [countdown, setCountdown] = useState({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n  });\n\n  useEffect(() => {\n    if (trips.length > 0) {\n      const selectedTrip = trips.find((trip) => trip.city === selectedCity);\n      if (selectedTrip) {\n        const startDate = new Date(selectedTrip.date.split(\" - \")[0]);\n        const currentTime = new Date();\n        const timeDifferenceInSeconds = differenceInSeconds(\n          startDate,\n          currentTime\n        );\n\n        const days = Math.floor(timeDifferenceInSeconds / (60 * 60 * 24));\n        const remainingSeconds = timeDifferenceInSeconds % (60 * 60 * 24);\n        const hours = Math.floor(remainingSeconds / (60 * 60));\n        const remainingMinutes = remainingSeconds % (60 * 60);\n        const minutes = Math.floor(remainingMinutes / 60);\n        const seconds = remainingMinutes % 60;\n\n        setCountdown({ days, hours, minutes, seconds });\n      }\n    }\n  }, [selectedCity, trips]);\n\n  useEffect(() => {\n    const apiKey = \"45XHHL2JKQC3XPVRRYAVH2AGS\";\n    const apiUrl =\n      \"https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/\";\n    const fullUrl = `${apiUrl}${selectedCity}/today?unitGroup=metric&include=days&key=${apiKey}&contentType=json`;\n\n    const fetchWeatherDetails = async () => {\n      try {\n        const response = await axios.get(fullUrl);\n        setWeatherDetails(response.data?.days[0] || null);\n      } catch (error) {\n        console.error(\"Error fetching weather details:\", error);\n      }\n    };\n\n    fetchWeatherDetails();\n  }, [selectedCity,trips]);\n\n  if (!weatherDetails) {\n    return null;\n  }\n\n  // Render weather details here\n  return (\n    <div className='weather-details'>\n      <h3>{getDayOfWeek(weatherDetails.datetime)}</h3>\n      <h3>{weatherDetails.temp}Ëš</h3>\n      <h3>{selectedCity}</h3>\n      <div className='countdown'>\n        <p>\n          {countdown.days} days, {countdown.hours} hours, {countdown.minutes}{\" \"}\n          minutes, {countdown.seconds} seconds\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default WeatherDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}